{"remainingRequest":"/Users/kiyoungtack/Desktop/boiler/node_modules/babel-loader/lib/index.js??ruleSet[1].rules[0].use[1]!/Users/kiyoungtack/Desktop/boiler/src/models/markets.ts","dependencies":[{"path":"/Users/kiyoungtack/Desktop/boiler/src/models/markets.ts","mtime":1611491949336},{"path":"/Users/kiyoungtack/Desktop/boiler/.babelrc","mtime":1610697389559},{"path":"/Users/kiyoungtack/Desktop/boiler/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kiyoungtack/Desktop/boiler/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJzsKY29uc3QgTWFya2V0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7CiAgdGl0bGU6IHsKICAgIHR5cGU6IFN0cmluZywKICAgIGluZGV4OiB0cnVlCiAgfSwKICBhdXRob3I6IHsKICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwKICAgIHJlZjogJ1VzZXJzJwogIH0sCiAgY29udGV4dDogU3RyaW5nLAogIGNvbW1lbnRzOiBbewogICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLAogICAgcmVmOiAnQ29tbWVudHMnCiAgfV0sCiAgcGljczogewogICAgdHlwZTogW1N0cmluZ10sCiAgICBkZWZhdWx0OiBbXQogIH0sCiAgdGFnczogewogICAgdHlwZTogW1N0cmluZ10sCiAgICBkZWZhdWx0OiBbXQogIH0sCiAgdmlld3M6IE51bWJlciwKICBwcmljZTogTnVtYmVyCn0sIHsKICB0aW1lc3RhbXBzOiB0cnVlCn0pOwpNYXJrZXRTY2hlbWEuaW5kZXgoewogIHRpdGxlOiAndGV4dCcsCiAgYXV0aG9yOiAndGV4dCcsCiAgdGFnczogJ3RleHQnLAogIGNvbnRleHQ6ICd0ZXh0JywKICBwcmljZTogJ3RleHQnCn0pOwoKTWFya2V0U2NoZW1hLm1ldGhvZHMudmlld1VwID0gYXN5bmMgZnVuY3Rpb24gKCkgewogIHRoaXMudmlld3MgKz0gMTsKICB0aGlzLnNhdmUoKTsKfTsKCmNvbnN0IG1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ01hcmtldHMnLCBNYXJrZXRTY2hlbWEpOwpleHBvcnQgZGVmYXVsdCBtb2RlbDs="},{"version":3,"sources":["/Users/kiyoungtack/Desktop/boiler/src/models/markets.ts"],"names":["mongoose","MarketSchema","Schema","title","type","String","index","author","Types","ObjectId","ref","context","comments","pics","default","tags","views","Number","price","timestamps","methods","viewUp","save","model"],"mappings":"AAAA,OAAOA,QAAP,MAAkD,UAAlD;AAkBA,MAAMC,YAAoC,GAAG,IAAID,QAAQ,CAACE,MAAb,CAC3C;AACEC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,KAAK,EAAE;AAFF,GADT;AAKEC,EAAAA,MAAM,EAAE;AACNH,IAAAA,IAAI,EAAEJ,QAAQ,CAACE,MAAT,CAAgBM,KAAhB,CAAsBC,QADtB;AAENC,IAAAA,GAAG,EAAE;AAFC,GALV;AASEC,EAAAA,OAAO,EAAEN,MATX;AAUEO,EAAAA,QAAQ,EAAE,CACR;AACER,IAAAA,IAAI,EAAEJ,QAAQ,CAACE,MAAT,CAAgBM,KAAhB,CAAsBC,QAD9B;AAEEC,IAAAA,GAAG,EAAE;AAFP,GADQ,CAVZ;AAgBEG,EAAAA,IAAI,EAAE;AACJT,IAAAA,IAAI,EAAE,CAACC,MAAD,CADF;AAEJS,IAAAA,OAAO,EAAE;AAFL,GAhBR;AAoBEC,EAAAA,IAAI,EAAE;AACJX,IAAAA,IAAI,EAAE,CAACC,MAAD,CADF;AAEJS,IAAAA,OAAO,EAAE;AAFL,GApBR;AAwBEE,EAAAA,KAAK,EAAEC,MAxBT;AAyBEC,EAAAA,KAAK,EAAED;AAzBT,CAD2C,EA4B3C;AACEE,EAAAA,UAAU,EAAE;AADd,CA5B2C,CAA7C;AAgCAlB,YAAY,CAACK,KAAb,CAAmB;AACjBH,EAAAA,KAAK,EAAE,MADU;AAEjBI,EAAAA,MAAM,EAAE,MAFS;AAGjBQ,EAAAA,IAAI,EAAE,MAHW;AAIjBJ,EAAAA,OAAO,EAAE,MAJQ;AAKjBO,EAAAA,KAAK,EAAE;AALU,CAAnB;;AAOAjB,YAAY,CAACmB,OAAb,CAAqBC,MAArB,GAA8B,kBAAkB;AAC9C,OAAKL,KAAL,IAAc,CAAd;AACA,OAAKM,IAAL;AACD,CAHD;;AAIA,MAAMC,KAAK,GAAGvB,QAAQ,CAACuB,KAAT,CACZ,SADY,EAEZtB,YAFY,CAAd;AAKA,eAAesB,KAAf","sourcesContent":["import mongoose, { Schema, Model, Document } from 'mongoose';\n\nexport interface Market {\n  title: string;\n  author: string;\n  context: string;\n  pics: string[];\n  tags: string[];\n  views: number;\n  price: number;\n}\n\nexport interface MarketDocument extends Market, Document {\n  //method를 넣는다\n  viewUp: () => void;\n}\nexport interface MarketModel extends Model<MarketDocument> {}\n\nconst MarketSchema: Schema<MarketDocument> = new mongoose.Schema(\n  {\n    title: {\n      type: String,\n      index: true,\n    },\n    author: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Users',\n    },\n    context: String,\n    comments: [\n      {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'Comments',\n      },\n    ],\n    pics: {\n      type: [String],\n      default: [],\n    },\n    tags: {\n      type: [String],\n      default: [],\n    },\n    views: Number,\n    price: Number,\n  },\n  {\n    timestamps: true,\n  }\n);\nMarketSchema.index({\n  title: 'text',\n  author: 'text',\n  tags: 'text',\n  context: 'text',\n  price: 'text',\n});\nMarketSchema.methods.viewUp = async function () {\n  this.views += 1;\n  this.save();\n};\nconst model = mongoose.model<MarketDocument, MarketModel>(\n  'Markets',\n  MarketSchema\n);\n\nexport default model;\n"]}]}