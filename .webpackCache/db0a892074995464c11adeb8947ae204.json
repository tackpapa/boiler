{"remainingRequest":"/Users/kiyoungtack/Desktop/boiler/node_modules/babel-loader/lib/index.js??ruleSet[1].rules[0].use[1]!/Users/kiyoungtack/Desktop/boiler/src/controllers/commentController.ts","dependencies":[{"path":"/Users/kiyoungtack/Desktop/boiler/src/controllers/commentController.ts","mtime":1611211595465},{"path":"/Users/kiyoungtack/Desktop/boiler/.babelrc","mtime":1610697389559},{"path":"/Users/kiyoungtack/Desktop/boiler/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kiyoungtack/Desktop/boiler/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGRiIGZyb20gJ2RiJzsKCmNvbnN0IGNyZWF0ZSA9IGFzeW5jIGN0eCA9PiB7CiAgY29uc3QgewogICAgdGV4dCwKICAgIHBvc3QKICB9ID0gY3R4LnJlcXVlc3QuYm9keTsKICBjb25zdCBhdXRob3IgPSBjdHguc3RhdGUudXNlci5faWQ7CiAgY29uc3QgY29tbWVudCA9IGF3YWl0IGRiLmNvbW1lbnRzLmNyZWF0ZSh7CiAgICB0ZXh0LAogICAgYXV0aG9yLAogICAgcG9zdAogIH0pOwogIGN0eC5zdGF0dXMgPSAyMDA7Cn07Cgpjb25zdCB1cGRhdGUgPSBhc3luYyBjdHggPT4gewogIGNvbnN0IGlkID0gY3R4LnBhcmFtcy5pZDsKICBjb25zdCB7CiAgICB0ZXh0CiAgfSA9IGN0eC5yZXF1ZXN0LmJvZHk7CiAgY29uc3QgdXAgPSBhd2FpdCBkYi5jb21tZW50cy5maW5kT25lQW5kVXBkYXRlKHsKICAgIF9pZDogaWQKICB9LCB7CiAgICB0ZXh0CiAgfSk7CiAgY3R4LnN0YXR1cyA9IDIwMDsKfTsKCmNvbnN0IGRlbGV0ZW9uZSA9IGFzeW5jIGN0eCA9PiB7CiAgY29uc3QgaWQgPSBjdHgucGFyYW1zLmlkOwogIGNvbnN0IGRlbCA9IGF3YWl0IGRiLmNvbW1lbnRzLmZpbmRPbmVBbmREZWxldGUoewogICAgX2lkOiBpZAogIH0pOwogIGN0eC5zdGF0dXMgPSAyMDA7Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgY3JlYXRlLAogIGRlbGV0ZW9uZSwKICB1cGRhdGUKfTs="},{"version":3,"sources":["/Users/kiyoungtack/Desktop/boiler/src/controllers/commentController.ts"],"names":["db","create","ctx","text","post","request","body","author","state","user","_id","comment","comments","status","update","id","params","up","findOneAndUpdate","deleteone","del","findOneAndDelete"],"mappings":"AAAA,OAAOA,EAAP,MAAe,IAAf;;AAGA,MAAMC,MAAkB,GAAG,MAAOC,GAAP,IAAe;AACxC,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAiBF,GAAG,CAACG,OAAJ,CAAYC,IAAnC;AACA,QAAMC,MAAM,GAAGL,GAAG,CAACM,KAAJ,CAAUC,IAAV,CAAeC,GAA9B;AACA,QAAMC,OAAO,GAAG,MAAMX,EAAE,CAACY,QAAH,CAAYX,MAAZ,CAAmB;AACvCE,IAAAA,IADuC;AAEvCI,IAAAA,MAFuC;AAGvCH,IAAAA;AAHuC,GAAnB,CAAtB;AAKAF,EAAAA,GAAG,CAACW,MAAJ,GAAa,GAAb;AACD,CATD;;AAWA,MAAMC,MAAkB,GAAG,MAAOZ,GAAP,IAAe;AACxC,QAAMa,EAAE,GAAGb,GAAG,CAACc,MAAJ,CAAWD,EAAtB;AACA,QAAM;AAAEZ,IAAAA;AAAF,MAAWD,GAAG,CAACG,OAAJ,CAAYC,IAA7B;AACA,QAAMW,EAAE,GAAG,MAAMjB,EAAE,CAACY,QAAH,CAAYM,gBAAZ,CACf;AAAER,IAAAA,GAAG,EAAEK;AAAP,GADe,EAEf;AACEZ,IAAAA;AADF,GAFe,CAAjB;AAMAD,EAAAA,GAAG,CAACW,MAAJ,GAAa,GAAb;AACD,CAVD;;AAYA,MAAMM,SAAqB,GAAG,MAAOjB,GAAP,IAAe;AAC3C,QAAMa,EAAE,GAAGb,GAAG,CAACc,MAAJ,CAAWD,EAAtB;AACA,QAAMK,GAAG,GAAG,MAAMpB,EAAE,CAACY,QAAH,CAAYS,gBAAZ,CAA6B;AAC7CX,IAAAA,GAAG,EAAEK;AADwC,GAA7B,CAAlB;AAGAb,EAAAA,GAAG,CAACW,MAAJ,GAAa,GAAb;AACD,CAND;;AAQA,eAAe;AAAEZ,EAAAA,MAAF;AAAUkB,EAAAA,SAAV;AAAqBL,EAAAA;AAArB,CAAf","sourcesContent":["import db from 'db';\nimport { Controller } from './types';\n\nconst create: Controller = async (ctx) => {\n  const { text, post } = ctx.request.body;\n  const author = ctx.state.user._id;\n  const comment = await db.comments.create({\n    text,\n    author,\n    post,\n  });\n  ctx.status = 200;\n};\n\nconst update: Controller = async (ctx) => {\n  const id = ctx.params.id;\n  const { text } = ctx.request.body;\n  const up = await db.comments.findOneAndUpdate(\n    { _id: id },\n    {\n      text,\n    }\n  );\n  ctx.status = 200;\n};\n\nconst deleteone: Controller = async (ctx) => {\n  const id = ctx.params.id;\n  const del = await db.comments.findOneAndDelete({\n    _id: id,\n  });\n  ctx.status = 200;\n};\n\nexport default { create, deleteone, update };\n"]}]}